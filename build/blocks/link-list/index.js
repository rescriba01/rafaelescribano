(()=>{"use strict";const t=window.wp.blocks,e=window.wp.i18n;function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e,r){return(e=function(t){var e=function(t){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function l(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,l,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw i}}return a}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const c=window.wp.blockEditor,u=window.wp.components,s=window.wp.element;function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}(0,t.registerBlockType)("re/link-list",{title:(0,e.__)("Link List","re"),description:(0,e.__)("Display a list of links with hover effects.","re"),category:"widgets",icon:"admin-links",attributes:{title:{type:"string",default:"Links"},links:{type:"array",default:[],items:{type:"object",properties:{text:{type:"string"},url:{type:"string"}}}}},edit:function(t){var n=t.attributes,i=t.setAttributes,o=n.title,f=n.links,p=(0,c.useBlockProps)(),y=a((0,s.useState)(f.map((function(t){return t.text}))),2),b=y[0],v=y[1],d=a((0,s.useState)({}),2),k=d[0],w=d[1];return React.createElement("div",p,React.createElement(c.RichText,{tagName:"h3",value:o,onChange:function(t){i({title:t})},placeholder:(0,e.__)("Enter list title...","re"),className:"link-list-title"}),React.createElement("ul",{className:"link-list"},f.map((function(t,n){return React.createElement("li",{key:"".concat(n,"-").concat(t.url),className:"link-list-item"},React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement("input",{type:"text",value:b[n],onChange:function(t){return function(t,e){var n=l(b);n[t]=e,v(n)}(n,t.target.value)},onBlur:function(){return function(t){var e=l(f);e[t]=m(m({},e[t]),{},{text:b[t]}),i({links:e})}(n)},placeholder:(0,e.__)("Link text...","re"),className:"link-text-input"}),React.createElement("div",{className:"url-input-wrapper"},React.createElement(u.Button,{icon:"admin-links",className:"url-input-button",onClick:function(){return w(m(m({},k),{},r({},n,!0)))}},t.url?t.url:(0,e.__)("Insert Link","re")),k[n]&&React.createElement(u.Popover,{position:"bottom center",onClose:function(){return w(m(m({},k),{},r({},n,!1)))}},React.createElement("div",{className:"url-input-popover"},React.createElement(c.URLInput,{value:t.url,onChange:function(t,e){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=l(f);if(n&&!b[t]){var o=l(b);o[t]=n.title,v(o),r[t]=m(m({},r[t]),{},{text:n.title})}r[t]=m(m({},r[t]),{},{url:e}),i({links:r})}(n,t,e)},suggestions:!0,hasBorder:!0}))))),React.createElement(u.Button,{isDestructive:!0,onClick:function(){return function(t){i({links:f.filter((function(e,n){return n!==t}))}),v(b.filter((function(e,n){return n!==t})));var e=m({},k);delete e[t],w(e)}(n)},variant:"secondary"},(0,e.__)("Remove","re"))))}))),React.createElement(u.Button,{variant:"secondary",onClick:function(){i({links:[].concat(l(f),[{text:"",url:""}])}),v([].concat(l(b),[""]))},className:"link-list-add-button"},(0,e.__)("Add Link","re")))},save:function(t){var e=t.attributes,n=e.title,r=e.links,i=c.useBlockProps.save();return React.createElement("div",i,React.createElement("h3",{className:"link-list-title"},n),React.createElement("ul",{className:"link-list"},r.map((function(t,e){return React.createElement("li",{key:e},React.createElement("a",{href:t.url},t.text))}))))}})})();